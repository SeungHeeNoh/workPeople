<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kh.workPeople.jobs.vacancyDetail.model.dao.VacancyDetailMapper">
	<resultMap type="com.kh.workPeople.jobs.vacancyDetail.model.vo.JobVacancyInformation" id="jobVacancyInformationResultMap">
		<id property="companyNo" column="CI_NO"/>
		<result property="companyName" column="M_NAME"/>
		<association property="jobVacancy" resultMap="jobVacancyResultMap"/>
	</resultMap>
	<resultMap type="com.kh.workPeople.common.vo.JobVacancy" id="jobVacancyResultMap">
		<id property="no" column="JV_NO"/>
		<result property="title" column="JV_TITLE"/>
		<result property="register" column="JV_REGISTER"/>
		<result property="update" column="JV_UPDATE"/>
		<result property="display" column="JV_DISPLAY"/>
		<result property="count" column="JV_COUNT"/>
		<result property="to" column="JV_TO"/>
		<result property="peiodStart" column="JV_PERIOD_START"/>
		<result property="periodEnd" column="JV_PERIOD_END"/>
		<result property="workdayStartTime" column="JV_WORKDAY_START_TIME"/>
		<result property="workdayEndTime" column="JV_WORKDAY_END_TIME"/>
		<result property="address" column="JV_ADDRESS"/>
		<result property="major" column="JV_MAJOR"/>
		<result property="status" column="JV_STATUS_YN"/>
		<result property="detailText" column="JV_DETAIL_TEXT"/>
		<result property="certificate" column="JV_CERTIFICATE"/>
		<result property="age" column="JV_AGE"/>
		<result property="pay" column="JV_PAY"/>
		<association property="gender" resultMap="genderResultMap"/>
		<association property="educationLevel" resultMap="educationResultMap"/>
		<association property="day" resultMap="dayResultMap"/>
		<association property="payType" resultMap="payTypeResultMap"/>
		<collection property="roleList" resultMap="roleResultMap"></collection>
		<collection property="jobTypeList" resultMap="jobTypeResultMap"/>
		<collection property="experienceLevelList" resultMap="experienceResultMap"/>
		<collection property="sectorList" resultMap="sectorResultMap"></collection>
	</resultMap>
	<resultMap type="com.kh.workPeople.common.vo.Gender" id="genderResultMap">
		<id property="no" column="G_NO"/>
		<result property="name" column="G_NAME"/>
	</resultMap>
	<resultMap type="com.kh.workPeople.common.vo.EducationLevel" id="educationResultMap">
		<id property="no" column="EDUCATION_LEVEL_NO"/>
		<result property="name" column="EDUCATION_LEVEL_NAME"/>
	</resultMap>
	<resultMap type="com.kh.workPeople.common.vo.Day" id="dayResultMap">
		<id property="no" column="D_NO"/>
		<result property="name" column="D_NAME"/>
	</resultMap>
	<resultMap type="com.kh.workPeople.common.vo.PayType" id="payTypeResultMap">
		<id property="no" column="PT_NO"/>
		<result property="name" column="PT_NAME"/>
	</resultMap>
	<resultMap type="com.kh.workPeople.common.vo.Role" id="roleResultMap">
		<id property="no" column="R_NO"/>
		<result property="name" column="R_NAME"/>
	</resultMap>
	<resultMap type="com.kh.workPeople.common.vo.JobType" id="jobTypeResultMap">
		<id property="no" column="JT_NO"/>
		<result property="name" column="JT_NAME"/>
	</resultMap>
	<resultMap type="com.kh.workPeople.common.vo.ExperienceLevel" id="experienceResultMap">
		<id property="no" column="EXPERIENCE_LEVEL_NO"/>
		<result property="name" column="EXPERIENCE_LEVEL_NAME"/>
	</resultMap>
	<resultMap type="com.kh.workPeople.common.vo.Sector" id="sectorResultMap">
		<id property="no" column="S_NO"/>
		<result property="name" column="S_NAME"/>
	</resultMap>
	<select id="selectJobVacancyInformation" resultMap="jobVacancyInformationResultMap">
		SELECT
		           JV_NO
		         , CI_NO
		         , JV_TITLE
		         , JV_REGISTER
		         , JV_UPDATE
		         , JV_DISPLAY
		         , JV_COUNT
		         , JV_TO
		         , JV_PERIOD_START
		         , JV_PERIOD_END
		         , JV_WORKDAY_START_TIME
		         , JV_WORKDAY_END_TIME
		         , JV_ADDRESS
		         , G_NO
		         , G_NAME
		         , EDUCATION_LEVEL_NO
		         , EDUCATION_LEVEL_NAME
		         , JV_MAJOR
		         , D_NO
		         , D_NAME
		         , JV_STATUS_YN
		         , JV_DETAIL_TEXT
		         , JV_CERTIFICATE
		         , JV_AGE
		         , JV_PAY
		         , PT_NO
		         , PT_NAME
		         , R_NO
		         , R_NAME
		         , JT_NO
		         , JT_NAME
		         , JOB_VACACY_INFORMATION.S_NO
		         , JOB_VACACY_INFORMATION.S_NAME
		         , EXPERIENCE_LEVEL_NO
		         , EXPERIENCE_LEVEL_NAME
		         , M_NAME
		  FROM MEMBER
		  JOIN COMPANY_INFO USING(M_NO)
		  JOIN JOB_VACACY_INFORMATION USING(CI_NO)
		 WHERE JV_NO = #{no}
		   AND JV_STATUS_YN = 'Y'
	</select>
</mapper>