<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kh.workPeople.personal.mypage.interestedCompany.model.dao.InterestedCompanyMapper">

    <resultMap id="jobVacancySimple" type="com.kh.workPeople.common.vo.JobVacancyLookUpSimple">
        <id property="no" column="CI_NO"/>
        <result property="name" column="M_NAME"/>
    </resultMap>

    <select id="jobVacancyLookUpSimpleList" resultMap="jobVacancySimple">
        SELECT
            CI_NO,
            M_NAME
        FROM INTERESTED_COMPANY IC
                 JOIN COMPANY_INFO CI USING(CI_NO)
                 JOIN MEMBER M ON(CI.M_NO = M.M_NO)
        WHERE IC.M_NO=#{no}
    </select>

    <select id="jobVacancyCount" resultType="_int">
        SELECT
            COUNT(*)
        FROM JOB_VACANCY
        WHERE CI_NO=#{no}
    </select>
	<insert id="insertInterestedCompany" parameterType="hashMap">
		INSERT INTO INTERESTED_COMPANY
		(
		    M_NO
		  , CI_NO
		)
		VALUES(
		    #{userNo}
		  , #{companyNo}
		)
	</insert>


</mapper>