<!DOCTYPE html>
<html xmlns:th="http:/www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>main</title>
<link rel="stylesheet" th:href="@{/css/common/common.css}">
<link rel="stylesheet" th:href="@{/css/main/main.css}">
<!-- 스와이퍼 -->
<script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
	integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
	crossorigin="anonymous"></script>
</head>
<div th:include="common/header.html"></div>
<body>
	<div class="main_container border_test">
		<div class="count_container border_test_r">
			<div class="count_content border_test_r">
				<p class="count_content_text">어떤 채용 공고를 찾으시나요?</p>
				<div class="count_wrap border_test">
					<div class="ci">
						<div class="ci_l">
							<span class="png"><img
								th:src="@{/images/main/m1.png}"></span>
						</div>
						<div class="ci_r">
							<span class="num"></span> <span class="text">등록된 기업</span>
						</div>
					</div>

					<div class="jv">
						<div class="jv_l">
							<span class="png"><img
								th:src="@{/images/main/m2.png}"></span>
						</div>
						<div class="jv_r">
							<span class="num"></span> <span class="text">등록된 공고</span>
						</div>
					</div>

					<div class="sk">
						<div class="sk_l">
							<span class="png"><img
								th:src="@{/images/main/m3.png}"></span>
						</div>
						<div class="sk_r">
							<span class="num"></span> <span class="text">등록된 구직자</span>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="cilist_content border_test" id="pcheck">
			<div class="pl_content">
				<div class="sw">
					<p class="ci_grade">플레티넘</p>
					<div id="banner_list" class="banner_list">
						<ul class="list_product">
							<div class="swiper mySwiper">
								<div class="swiper-wrapper">
									<div id="platinumSwiperDiv1" class="swiper-slide">
											<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
									</div> 
									<div id="platinumSwiperDiv2"  class="swiper-slide"> 
											<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
									</div> 
									<div id="platinumSwiperDiv3"  class="swiper-slide"> 
											<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
									</div>
									<div id="platinumSwiperDiv4"  class="swiper-slide"> 
											<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
									</div> 
									<div id="platinumSwiperDiv5"  class="swiper-slide"> 
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
										<li class="item"><a href=""></a></li>
	  							    </div>
								</div>
								<div class="swiper-pagination">
								</div>
							</div>
						</ul>
					</div>
				</div>
			</div>
	


			<div class="bs_content" id="bcheck">
				<p class="ci_grade2">베이직</p>
				<div id="banner_list2" class="banner_list2">
					<ul class="list_product2">
						<div class="swiper mySwiper">
							<div class="swiper-wrapper">
								<div id="BasicSwiperDiv1" class="swiper-slide">
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
								</div>
								<div id="BasicSwiperDiv2" class="swiper-slide">
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
								</div>
								<div id="BasicSwiperDiv3" class="swiper-slide">
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
									<li class="item2"><a href=""></a></li>
								</div>
							</div>
							<div class="swiper-pagination"></div>
						</div>
					</ul>
				</div>
			</div>
		</div>
		
		<th:block sec:authorize= "hasRole('COMPANY')">
		<input type="hidden" id="yn" th:value="${#authentication.principal.companyStatusYN}">
		<div th:include="company/mypage/accountSuspension.html"></div> 
		</th:block>
		
		<div th:include="common/up.html"></div> 
		<div th:include="common/footer.html"></div>
	</div>
</body>
			<script>
				$.ajax({
					url : "getPlatinumList",
					success : function(result){
						console.log(result);
						var size = result.size; // 몇개
					 	var rows = ""; 
					 	var rows1 = ""; 
					 	var rows2 = ""; 
					 	var rows3 = ""; 
					 	var rows4 = ""; 
					 	var rows5 = ""; 
						var list = result.list;
					 	
					    $.each(list, function(index, item) { // 리스트 반복
					    	if(0<=index&&index<=11){
					    		 rows1 = rows1 + getTierRow(item);
						 	}else if(12<=index&&index<=23){
					    		 rows2 = rows2 + getTierRow(item);
						 	}else if(24<=index&&index<=35){
					    		 rows3 = rows3 + getTierRow(item);
						 	}else if(36<=index&&index<=47){
					    		 rows4 = rows4 + getTierRow(item);
						 	}else if(48<=index&&index<=59){
					    		 rows5 = rows5 + getTierRow(item);
						 	}
						    	
						});
					    
					    for (size; size < 60; size++) {
					    	if(0<=size&&size<=11){
					    		 rows1 = rows1 + getNoTierRow();
						 	}else if(12<=size&&size<=23){
					    		 rows2 = rows2 + getNoTierRow();
						 	}else if(24<=size&&size<=35){
					    		 rows3 = rows3 + getNoTierRow();
						 	}else if(36<=size&&size<=47){
					    		 rows4 = rows4 + getNoTierRow();
						 	}else if(48<=size&&size<=59){
						 	}
				    	}
						    
				         $('#platinumSwiperDiv1').empty(); //비우기
				         $('#platinumSwiperDiv1').append(rows1); 
				         $('#platinumSwiperDiv2').empty(); //비우기
				         $('#platinumSwiperDiv2').append(rows2); 
				         $('#platinumSwiperDiv3').empty(); //비우기
				         $('#platinumSwiperDiv3').append(rows3); 
				         $('#platinumSwiperDiv4').empty(); //비우기
				         $('#platinumSwiperDiv4').append(rows4); 
				         $('#platinumSwiperDiv5').empty(); //비우기
				         $('#platinumSwiperDiv5').append(rows5); 
						
					},error : function(e) {
						console.log(e);
					}
					
				});
				
				
				$.ajax({
					url : "getBasicList",
					success : function(result){
						var size2 = result.size; //몇개인지
					 	var rows6 = ""; //문자열생성
					 	var rows7 = ""; //문자열생성
					 	var rows8 = ""; //문자열생성
						var list2 = result.list;
					    $.each(list2, function(index, item) { //리스트로반복
					    	if(0<=index&&index<=9){
					    		 rows6 = rows6 + getTierRow2(item);
						 	}else if(10<=index&&index<=19){
					    		 rows7 = rows7 + getTierRow2(item);
						 	}else if(20<=index&&index<=29){
					    		 rows8 = rows8 + getTierRow2(item);
						 	}
						    	
						});
					    
					    for (size2; size2 < 30; size2++) {
					    	if(0<=size2&&size2<=9){
					    		 rows6 = rows6 + getNoTierRow2();
						 	}else if(10<=size2&&size2<=19){
					    		 rows7 = rows7 + getNoTierRow2();
						 	}else if(20<=size2&&size2<=29){
					    		 rows8 = rows8 + getNoTierRow2();
						 	}
					    	
				    	}
						    
				         $('#BasicSwiperDiv1').empty(); //비우기
				         $('#BasicSwiperDiv1').append(rows6); 
				         $('#BasicSwiperDiv2').empty(); //비우기
				         $('#BasicSwiperDiv2').append(rows7); 
				         $('#BasicSwiperDiv3').empty(); //비우기
				         $('#BasicSwiperDiv3').append(rows8); 
						
					},error : function(e) {
						console.log(e);
					}
					
				});
				
				
				function getTierRow(item){
					console.log(item);
					var jvRow = "\n";
					jvRow = jvRow +'<li class="item"><a href="/jobs/vacancy-detail/detail-view?no=' + item.jvNo + '"> <span class="logo" name="">';
					jvRow = jvRow +'<img src="'+item.path+item.fileName+'" onerror="this.src= \'/images/common/no-logo.png\'">';
					jvRow = jvRow +'</span>';
					jvRow = jvRow +' <span class="corp" name="">'+item.companyName+'</span>';
					jvRow = jvRow +'<strong class="tit" name="">'+item.title+'</strong>';
					jvRow = jvRow +'</a></li>';
					
					return jvRow;
				}
				
				function getNoTierRow(){
					var jvRow = "\n";
					jvRow = jvRow += '<li class="item"><a href=""> </a></li>';
					return jvRow;
				}
				function getNoTierRow2(){
					var jvRow = "\n";
					jvRow = jvRow += '<li class="item2"><a href=""> </a></li>';
					return jvRow;
				}
				function getNoTierRow3(){
					var jvRow = "\n";
					jvRow = jvRow += '<li class="item2"><a href="">5번테스트</a></li>';
					return jvRow;
				}
				
				
				function getTierRow2(item){
					var jvRow = "\n";
					jvRow = jvRow +'<li class="item2"><a href="/jobs/vacancy-detail/detail-view?no=' + item.jvNo + '"> <span class="logo" name="">';
					jvRow = jvRow +'<img src="'+item.path+item.fileName+'">';
					jvRow = jvRow +'</span>';
					jvRow = jvRow +' <span class="corp" name="">'+item.companyName+'</span>';
					jvRow = jvRow +'<strong class="tit" name="">'+item.title+'</strong>';
					jvRow = jvRow +'</a></li>';
					
					return jvRow;
				}
		
		        var swiper = new Swiper(".mySwiper", {
		          slidesPerView: 1,
		          spaceBetween: 30,
		          loop: true,
		          pagination: {
		            el: ".swiper-pagination",
		            clickable: true
		          },
		          navigation: {
		            nextEl: ".swiper-button-next",
		            prevEl: ".swiper-button-prev"
		          }
		        });
		
		
		        $(function() {
					  var count0 = count1 = count2 = 0;
					
					  timeCounter();
					
					  function timeCounter() {
						
						cmCount = "[[${cmCount}]]";
						jvCount= "[[${jvCount}]]";
					    skCount=  "[[${skCount}]]";
						    
					    id0 = setInterval(count0Fn, 50);
					
					    function count0Fn() {
					      count0++;
					      if (count0 > cmCount) {
					        clearInterval(id0);
					      } else {
					        $(".num").eq(0).text(count0);
					      }
					
					    }
					
					    id1 = setInterval(count1Fn, 50);
					
					    function count1Fn() {
					      count1++;
					      if (count1 > jvCount) {
					        clearInterval(id1);
					      } else {
					        $(".num").eq(1).text(count1);
					      }
					    }
					
					    id2 = setInterval(count2Fn, 50);
					
					    function count2Fn() {
					      count2++;
					      if (count2 > skCount) {
					        clearInterval(id2);
					      } else {
					        $(".num").eq(2).text(count2);
					      }
					    }
					  }
					});
      </script>

</html>